FROM python:3.8

ENV PYTHONUNBUFFERED 1
RUN mkdir /app

WORKDIR /app
COPY . /app/




RUN pip install --upgrade pip
RUN pip install -r requirements.txt

CMD ["gunicorn", "-c", "config/gunicorn/conf.py", "--bind", ":8000", "--chdir", "ie", "ie.wsgi:application"]

RUN echo 'alias ll="ls -l"' > ~/.bashrc
RUN apt update

#Setear timezone y sincronizar hora con afip
ENV TZ=America/Argentina/Buenos_Aires
RUN rm /etc/localtime && \ 
    ln -s /usr/share/zoneinfo/America/Buenos_Aires /etc/localtime

#Scripts para crear base de datos y migraciones
# RUN python ./manage.py sqlcreate
# RUN python ./manage.py makemigrations
# RUN python ./manage.py makemigrations user
# RUN python ./manage.py makemigrations bot
# RUN python manage.py migrate


